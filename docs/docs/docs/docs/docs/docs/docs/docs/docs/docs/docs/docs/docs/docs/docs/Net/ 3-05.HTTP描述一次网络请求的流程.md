
####  描述一次网络请求的流程
1. 域名解析
> 浏览器会先搜索自身DNS缓存且对应的IP地址没有过期；若未找到则搜索操作系统自身的DNS缓存；若还未找到则读本地的hotsts文件；还未找到会在TCP/IP设置的本地DNS服务器上找，如果要查询的域名在本地配置的区域资源中，则完成解析；否则根据本地DNS服务器会请求根DNS服务器；根DNS服务器是13台根DNS，会一级一级往下找。

2. TCP三次握手

> 客户端先发送SYN=1，ACK=0，序列号seq=x报文；（SYN在连接建立时用来同步序号，SYN=1，ACK=0代表这是一个连接请求报文，对方若同意建立连接，则应在响应报文中使SYN=1，ACK=1）
> 
> 服务器返回SYN=1，ACK=1，seq=y, ack=x+1；
> 
> 客户端再一次确认，但不用SYN了，回复服务端, ACK=1, seq=x+1, ack=y+1

3. 建立TCP连接后发起HTTP请求

> 客户端按照指定的格式开始向服务端发送HTTP请求，HTTP请求格式由四部分组成，分别是请求行、请求头、空行、消息体，服务端接收到请求后，解析HTTP请求，处理完成逻辑，最后返回一个具有标准格式的HTTP响应给客户端。

4. 服务器响应HTTP请求

> 服务器接收处理完请求后返回一个HTTP响应消息给客户端，HTTP响应信息格式包括：状态行、响应头、空行、消息体

5. 浏览器解析HTML代码，请求HTML代码中的资源

> 浏览器拿到html文件后，就开始解析其中的html代码，遇到js/css/image等静态资源时，向服务器发起一个http请求，如果返回304状态码，浏览器会直接读取本地的缓存文件。否则开启线程向服务器请求下载。

6. 浏览器对页面进行渲染并呈现给用户

7. TCP的四次挥手

> 当客户端没有东西要发送时就要释放连接（提出中断连接可以是Client也可以是Server），客户端会发送一个FIN=1的没有数据的报文，进入FIN_WAIT状态，服务端收到后会给客户端一个确认，此时客户端不能发送数据，但可接收信息。
